(this["webpackJsonpuser-activity"]=this["webpackJsonpuser-activity"]||[]).push([[0],{44:function(e,t,n){e.exports=n(60)},49:function(e,t,n){},55:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(7),o=n.n(i),l=(n(49),n(15)),s=n(16),c=n(27),u=n(19),d=n(17),m=n(9),h=n(10);function f(){var e=Object(m.a)(["\n    background:rgba(255,255,255,0.1);\n    border:1px solid grey;\n    padding:0.5rem 3%;\n    border-radius:0.5rem;\n    font-size:1.5rem;\n    width:92%;\n    color:white;\n\n    &:focus{ outline:none; }\n\n"]);return f=function(){return e},e}function v(){var e=Object(m.a)(["\n    width:50%;\n    min-width:280px;\n    margin:auto;\n"]);return v=function(){return e},e}function g(){var e=Object(m.a)(["\n    position:fixed;\n    height:4rem;\n    background-color:#1F2022;\n    width:100%;\n    display:flex;\n    align-items:center;\n"]);return g=function(){return e},e}var p=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={value:""},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props.file;return r.a.createElement(y,null,r.a.createElement(b,null,r.a.createElement(w,{disabled:!t,value:this.state.value,onKeyDown:function(t){8===t.keyCode||t.keyCode,e.props.search(t.target.value)},onChange:function(t){t.preventDefault(),e.setState({value:t.target.value}),e.props.search(t.target.value)},placeholder:t?"Search by name, code or timezone.":"Drop a file to get started."})))}}]),n}(a.Component),y=h.b.div(g()),b=h.b.div(v()),w=h.b.input(f());function E(){var e=Object(m.a)(["\n        pointer-events:none;\n    "]);return E=function(){return e},e}function D(){var e=Object(m.a)(["\n        background-color:rgba(0,0,0,0.4);\n    "]);return D=function(){return e},e}function Y(){var e=Object(m.a)(["\n    margin-top:4rem;\n    height:-webkit-fill-available;\n    height:-moz-available;\n    width:80%;\n    background-color:none;\n    display:flex;\n    align-items:center;\n    justify-content:center;\n    color:white;\n    font-size:3rem;\n    transition:all 0.3s ease-in-out;\n    padding:10%;\n\n    ","\n    ","\n"]);return Y=function(){return e},e}var j=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={text:"Drop a .json file here.",dragging:!1},e.drop=r.a.createRef(),e.handleDragIn=function(t){t.preventDefault(),t.stopPropagation(),t.dataTransfer.items&&t.dataTransfer.items.length>0&&e.setState({dragging:!0,text:"Drop it right there!"})},e.handleDragOut=function(t){t.preventDefault(),t.stopPropagation(),e.setState({dragging:!1,text:"Drop a .json file here."})},e.handleDrag=function(e){e.preventDefault(),e.stopPropagation()},e.handleDrop=function(t){t.preventDefault(),t.stopPropagation(),e.setState({dragging:!1}),t.dataTransfer.files&&t.dataTransfer.files.length>0&&(e.props.read(t.dataTransfer.files[0]),t.dataTransfer.clearData())},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this.drop.current;e.addEventListener("dragenter",this.handleDragIn),e.addEventListener("dragleave",this.handleDragOut),e.addEventListener("dragover",this.handleDrag),e.addEventListener("drop",this.handleDrop)}},{key:"componentWillUnmount",value:function(){var e=this.drop.current;e.removeEventListener("dragenter",this.handleDragIn),e.removeEventListener("dragleave",this.handleDragOut),e.removeEventListener("dragover",this.handleDrag),e.removeEventListener("drop",this.handleDrop)}},{key:"render",value:function(){var e=this.state,t=e.text,n=e.dragging,a=this.props.reading;return this.props.error&&!n&&(t=this.props.error),r.a.createElement(O,{ref:this.drop,dragging:n,reading:a},a?"Reading file . . .":t)}}]),n}(a.Component),O=h.b.div(Y(),(function(e){return e.dragging&&Object(h.a)(D())}),(function(e){return e.reading&&Object(h.a)(E())})),M=n(83),k=n(90),z=n(86),S=n(85),C=n(88),x=n(87),A=n(39),T=n.n(A),L=n(11),_=n.n(L),I=n(40);n(55);function V(){var e=Object(m.a)(["\n        display:flex;\n        align-items:center;\n        justify-content:center;\n        font-size:3rem;\n        color:white;\n    "]);return V=function(){return e},e}function F(){var e=Object(m.a)(["\n    width:100%;\n    margin-top:4rem;\n    height:-webkit-fill-available;\n    height:-moz-available;\n\n    ","\n"]);return F=function(){return e},e}var P=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={users:e.props.users,current:null,show:!1,dates:[],dayView:!0,today:!0,activity:[],other:!1},e.showInfo=function(t){var n,a=[],r=[];t.activity_periods.map((function(e){if(n=_()(e.start_time,"MMM D YYYY h:mma").tz(t.tz).format("D-M-YY"),a.push(n),_()(e.start_time,"MMM D YYYY h:mma").tz(t.tz).isSame(new Date,"date")){var i=_()(e.start_time,"MMM D YYYY h:mma").tz(t.tz).format("h:mm A"),o=_()(e.end_time,"MMM D YYYY h:mma").tz(t.tz).format("h:mm A");r.push(i+" to "+o)}return 1})),e.setState({show:!0,current:t,dates:a,activity:r})},e.getActivity=function(t){var n=e.state.current.activity_periods,a=e.state.current.tz,r=[],i=_()(t).format("D-M-YY");n.map((function(e){if(_()(e.start_time,"MMM D YYYY h:mma").tz(a).format("D-M-YY")===i){var t=_()(e.start_time,"MMM D YYYY h:mma").tz(a).format("h:mm A"),n=_()(e.end_time,"MMM D YYYY h:mma").tz(a).format("h:mm A");r.push(t+" to "+n)}return 1})),e.setState({today:!1,dayView:!0,other:!0,activity:r,otherDate:_()(t).format("D MMM YY")})},e}return Object(s.a)(n,[{key:"componentDidUpdate",value:function(e){e.users!==this.props.users&&this.setState({users:this.props.users})}},{key:"render",value:function(){var e=this,t=this.state,n=t.users,a=t.show,i=t.current,o=t.dates,l=t.dayView,s=t.today,c=t.activity,u=t.other,d=t.otherDate,m=!1;return void 0!==n&&0!==n.length||(m=!0),r.a.createElement(W,{empty:m},m&&r.a.createElement("span",null,"No users found."),!m&&r.a.createElement(M.a,{container:!0,spacing:0},n.map((function(t,n){return r.a.createElement(M.a,{key:n,item:!0,xs:12,sm:6,md:4,lg:3,xl:2},r.a.createElement(k.a,{variant:"elevation",style:{width:"90%",margin:"1rem auto"}},r.a.createElement(S.a,null,r.a.createElement("div",{style:{fontSize:"1.5rem"}},t.real_name),"ID : ",t.id,r.a.createElement("br",null),"Timezone : ",t.tz),r.a.createElement(z.a,{style:{justifyContent:"flex-end"}},r.a.createElement(C.a,{color:"primary",variant:"contained",onClick:function(){e.showInfo(t)},style:{float:"right"}},"See activity"))))}))),r.a.createElement(x.a,{open:a,onClose:function(){e.setState({show:!1,dayView:!0,today:!0,other:!1})}},r.a.createElement("div",{style:{maxWidth:"85vw",margin:"auto",padding:"1rem 2rem 2rem 2rem",backgroundColor:"white",marginTop:"7rem",outline:"none",width:"max-content",borderRadius:"1rem",minWidth:"30rem",minHeight:"20rem"}},i&&r.a.createElement("div",null,r.a.createElement("h2",null,i.real_name,r.a.createElement(C.a,{onClick:function(){e.setState({dayView:!0,show:!1,today:!0,other:!1})},color:"primary",variant:"outlined",style:{float:"right"}},r.a.createElement(T.a,null))),l&&r.a.createElement("div",null,r.a.createElement("h3",null,s&&"Today",u&&r.a.createElement(r.a.Fragment,null,d),r.a.createElement(C.a,{onClick:function(){e.setState({dayView:!1})},color:"primary",variant:"outlined",style:{float:"right"}},"All Activity")),r.a.createElement("div",{style:{marginTop:"-1rem",fontSize:"0.75rem"}},"All times are in local timezone."),r.a.createElement("hr",null),0===c.length?"No activity":r.a.createElement("div",null,c.map((function(e,t){return r.a.createElement("div",{key:t},e)})))),!l&&r.a.createElement("div",null,r.a.createElement("h3",null,"All activity"),r.a.createElement(I.a,{tileClassName:function(e){var t=e.date;e.view;if(o.find((function(e){return e===_()(t).format("D-M-YY")})))return"date-highlight"},defaultView:"year",onChange:function(t,n){e.getActivity(t)}}))))))}}]),n}(a.Component),W=h.b.div(F(),(function(e){return e.empty&&Object(h.a)(V())})),N=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={file:!1,reading:!1,error:!1,data:{},users:[]},e.handleFile=function(t){if(e.setState({reading:!0}),t.type&&-1===t.type.indexOf("json"))e.setState({error:"That file was not a json file. Try again. ;)",reading:!1});else{var n,a=new FileReader,r=Object(c.a)(e);a.addEventListener("load",(function(e){try{n=JSON.parse(e.target.result),r.setState({reading:!1,file:!0,data:n,users:n.members})}catch(t){r.setState({error:"There appears to be a mistake in your json file. Please verify and try again.",reading:!1}),console.log("More about the error : "),console.log(t)}})),a.readAsText(t)}},e.search=function(t){if(""!==t){var n,a,r,i=e.state.data.members,o=[];t=t.toLowerCase(),i.map((function(e){return n=e.real_name.toLowerCase(),a=e.id.toLowerCase(),r=e.tz.toLowerCase(),(n.includes(t)||a.includes(t)||r.includes(t))&&o.push(e),1})),e.setState({users:o})}else e.setState({users:e.state.data.members})},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.state,t=e.reading,n=e.file,a=e.error,i=e.users;return r.a.createElement("div",{style:{height:"100vh",width:"100vw",position:"absolute",overflow:"hidden"}},r.a.createElement(p,{file:n,search:this.search}),!n&&r.a.createElement(j,{read:this.handleFile,reading:t,error:a}),n&&r.a.createElement(P,{users:i}))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[44,1,2]]]);
//# sourceMappingURL=main.ecb738a9.chunk.js.map